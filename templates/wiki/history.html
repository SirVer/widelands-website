{% extends 'wiki/base.html' %}
{% load i18n %}
{% load custom_date %}


{% block title %}
{% trans "Article History of" %} {{ article.title }} - {{Â block.super }}
{% endblock %}

{% block content %}
<div class="posRight">
	<a href="{% url wiki_article article.title %}" class="invertedColor">{% trans "Back to article" %}</a>
	| <a href="{% url wiki_article_history_feed title=article.title,feedtype="atom" %}"  class="invertedColor">Atom Feed</a>
</div>
<h1>{% trans "Article History of" %} {{ article.title }}</h1>

<div class="blogEntry">
	<form action="{% url wiki_revert_to_revision article.title %}" method="post">
		<table class="history_list">
		<thead>
			<tr>
				<th>{% trans "At" %}</th>
				<th>{% trans "User" %}</th>
				<th>{% trans "Comment" %}</th>
				<th>{% trans "Revert" %}</th>
			</tr>
		</thead>
		<tbody>
			{% for change in changes %}
			<tr class="{% cycle 'odd' 'even' %}">
				<td><a href="{{ change.get_absolute_url }}">
					{{ change.modified|custom_date:user }}</a>
				</td>
				<td>
				{% if change.is_anonymous_change %}
					{{ change.editor_ip }}
				{% else %}
					<a href="{% url wiki_article change.editor %}">{{ change.editor }}</a>
				{% endif %}
				</td>
				<td>
					{% if change.comment %}<i>'{{ change.comment}}'</i> {% endif %}
				</td>
				<td>
					{% if forloop.first %}
						{% trans "Current revision" %}
					{% else %}
						 <input id="id_revision" name="revision" type="radio" value="{{ change.revision }}" />
					{% endif %}
				</td>
			</tr>
			{% endfor %}
		</tbody>
		</table>
		<input type="submit" value="{% trans "Revert" %}" />
	</form>
</div>
{% endblock %}
