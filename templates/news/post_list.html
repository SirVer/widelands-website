{% extends "news/base_news.html" %}

{% load news_extras %}
{% load threadedcommentstags custom_date %}
{% load pagination_tags %}

{% block content %}

<h1>News Archive</h1>
{% get_news_years as news_years %}
<a href="{% url 'news_index' %}" class="invertedColor">News Archiv</a>:
{% for muh in news_years %}
	<a href="{% url 'news_index' %}{{ muh.year }}" class="invertedColor">{{ muh.year }}</a>
	{% if not forloop.last %} | {% endif %}
{% endfor %}
<br />

<div class="center">
{% autopaginate object_list 20 %}
{% paginate %}
</div>
<br />
<div class="blogEntry">
    <ul>
        {% for object in object_list %}
       	{% get_comment_count for object as ccount %}

        <li><a href="{{object.get_absolute_url}}">{{ object.title }}</a> - <span class="small">posted at {{ object.publish|custom_date:user }}, {{ ccount }} comments</span></li>
            {#{% include "news/inlines/post_detail.html" %}#}
    {% endfor %}
        
    </ul>
</div>
{% if page_obj.has_other_pages %}

<div class="center">
{% paginate %}
</div>
{% endif %}

{% endblock %}
